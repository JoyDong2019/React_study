<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script
      crossorigin
      src="https://unpkg.com/react@16/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      /* 函数组件 */
      function Welcome(props) {
        return <h1>hello,{props.name}</h1>;
      }
      /* class组件 */
      class Welcome extends React.Component {
        render() {
          return <h1>Hello,{this.props.name}</h1>;
        }
      }
    </script>
    <!-- 渲染组件 -->
    <!-- React元素可以是自定义组件 -->
    <!-- 当React元素用户自定义组件时，它会将 JSX 所接收的属性（attributes）以及子组件（children）转换为单个对象传递给组件，这个对象被称之为 “props”。 -->
    <script>
      function Welcome(props) {
        return <h1>Hello, {props.name}</h1>;
        //“Hello,Sara”
      }
      const element = <Welcome name="Sara" />;
      ReactDOM.render(element, document.getElementById("root"));
      /* 我们调用 ReactDOM.render() 函数，并传入 <Welcome name="Sara" /> 作为参数。
React 调用 Welcome 组件，并将 {name: 'Sara'} 作为 props 传入。
Welcome 组件将 <h1>Hello, Sara</h1> 元素作为返回值。
React DOM 将 DOM 高效地更新为 <h1>Hello, Sara</h1>。 */
    </script>
    <!-- 组合组件 -->
    <script>
      function Welcome(props) {
        return <h1>Hello, {props.name}</h1>;
      }
      /* 创建一个可以多次渲染Welcome组件的App组件 */
      function App() {
        return (
          <div>
            <Welcome name="Sara" />
            <Welcome name="Cahal" />
            <Welcome name="Edite" />
          </div>
        );
      }
      ReactDOM.render(<App />, document.getElementById("root"));
    </script>
    <!-- 提取组件 -->
    <script>
      function Comment(props) {
        return (
          <div className="Comment">
            <div className="UserInfo">
              <img
                className="Avatar"
                src={props.author.avatarUrl}
                alt={props.author.name}
              />
              <div className="UserInfo-name">{props.author.name}</div>
            </div>
            <div className="Comment-text">{props.text}</div>
            <div className="Comment-date">{formatDate(props.date)}</div>
          </div>
        );
      }
      /* 该组件接收author对象，text对象以及date对象作为props */
      /* 提取Avatar组件 */
      function Avatar(props) {
        return (
          <img
            className="Avatar"
            src={props.user.avatarUrl}
            alt={props.user.name}
          />
        );
      }
      /* 提取UserInfo组件 */
      function UserInfo(props) {
        return (
          <div className="UserInfo">
            <Avatar user={props.user} />
            <div className="UserInfo-name">{props.user.name}</div>
          </div>
        );
      }
      /* 简化Comment组件 */
      function Comment(props) {
        return (
          <div className="Comment">
            <UserInfo user={props.author} />
            <div className="Comment-text">{props.text}</div>
            <div className="Comment-date">{formatDate(props.date)}</div>
          </div>
        );
      }
    </script>
    <!-- props只读性 -->
    <!-- 组件无论是使用函数声明还是通过class声明，都绝不能修改自身的props -->
  </body>
</html>
